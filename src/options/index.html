<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Screenshot Plugin - 选项设置</title>
    <link rel="stylesheet" href="options.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div class="header-content">
          <h1 class="title">
            <span class="icon">📷</span>
            Screenshot Plugin
          </h1>
          <p class="subtitle">截图工具设置与历史记录管理</p>
        </div>
      </header>

      <nav class="nav-tabs">
        <button class="tab-button active" data-tab="history">历史记录</button>
        <button class="tab-button" data-tab="settings">设置</button>
        <button class="tab-button" data-tab="about">关于</button>
      </nav>

      <main class="main-content">
        <!-- 历史记录标签页 -->
        <div id="history-tab" class="tab-content active">
          <div class="tab-header">
            <h2>截图历史记录</h2>
            <div class="toolbar">
              <button id="clear-all-btn" class="btn btn-danger">清空所有</button>
              <button id="export-btn" class="btn btn-secondary">导出数据</button>
              <button id="refresh-btn" class="btn btn-primary">刷新</button>
            </div>
          </div>

          <div class="search-bar">
            <input type="text" id="search-input" placeholder="搜索截图..." class="search-input" />
            <select id="sort-select" class="sort-select">
              <option value="newest">最新优先</option>
              <option value="oldest">最旧优先</option>
              <option value="name">按名称</option>
            </select>
          </div>

          <div id="loading" class="loading" style="display: none">
            <div class="loading-spinner"></div>
            <p>加载中...</p>
          </div>

          <div id="empty-state" class="empty-state" style="display: none">
            <div class="empty-icon">📷</div>
            <h3>暂无截图记录</h3>
            <p>开始使用截图工具来创建你的第一张截图吧！</p>
          </div>

          <div id="screenshots-grid" class="screenshots-grid">
            <!-- 截图项目将通过JavaScript动态生成 -->
          </div>

          <div class="pagination">
            <button id="prev-page" class="btn btn-outline" disabled>上一页</button>
            <span id="page-info" class="page-info">第 1 页，共 1 页</span>
            <button id="next-page" class="btn btn-outline" disabled>下一页</button>
          </div>
        </div>

        <!-- 设置标签页 -->
        <div id="settings-tab" class="tab-content">
          <div class="tab-header">
            <h2>插件设置</h2>
          </div>

          <div class="settings-section">
            <h3>截图设置</h3>
            <div class="setting-item">
              <label for="default-mode">默认截图模式：</label>
              <select id="default-mode" class="setting-select">
                <option value="visible">可视区域</option>
                <option value="full">整个页面</option>
              </select>
            </div>

            <div class="setting-item">
              <label for="auto-download">
                <input type="checkbox" id="auto-download" checked />
                自动下载截图
              </label>
            </div>

            <div class="setting-item">
              <label for="save-history">
                <input type="checkbox" id="save-history" checked />
                保存截图历史记录
              </label>
            </div>
          </div>

          <div class="settings-section">
            <h3>存储设置</h3>
            <div class="setting-item">
              <label for="max-history">最大历史记录数量：</label>
              <input
                type="number"
                id="max-history"
                min="10"
                max="200"
                value="50"
                class="setting-input"
              />
            </div>

            <div class="setting-item">
              <label for="image-quality">图片质量：</label>
              <input
                type="range"
                id="image-quality"
                min="50"
                max="100"
                value="90"
                class="setting-range"
              />
              <span id="quality-value" class="range-value">90%</span>
            </div>
          </div>

          <div class="settings-section">
            <h3>文件命名</h3>
            <div class="setting-item">
              <label for="filename-pattern">文件名模式：</label>
              <input
                type="text"
                id="filename-pattern"
                value="screenshot_{date}_{time}"
                class="setting-input"
              />
              <small class="setting-help">
                可用变量: {date}, {time}, {title}, {url}, {timestamp}
              </small>
            </div>
          </div>

          <div class="settings-actions">
            <button id="save-settings" class="btn btn-primary">保存设置</button>
            <button id="reset-settings" class="btn btn-outline">重置为默认</button>
          </div>
        </div>

        <!-- 关于标签页 -->
        <div id="about-tab" class="tab-content">
          <div class="tab-header">
            <h2>关于插件</h2>
          </div>

          <div class="about-content">
            <div class="about-section">
              <h3>Screenshot Plugin</h3>
              <p class="version">版本 1.0.0</p>
              <p class="description">
                一个简单易用的浏览器截图工具，支持可视区域和整页截图，
                提供历史记录管理和多种自定义设置。
              </p>
            </div>

            <div class="about-section">
              <h3>功能特性</h3>
              <ul class="feature-list">
                <li>✅ 一键截取可视区域</li>
                <li>✅ 整页截图支持</li>
                <li>✅ 自动下载截图</li>
                <li>✅ 历史记录管理</li>
                <li>✅ 自定义设置</li>
                <li>✅ 快捷键支持</li>
              </ul>
            </div>

            <div class="about-section">
              <h3>使用说明</h3>
              <ol class="usage-list">
                <li>点击浏览器工具栏中的截图图标</li>
                <li>选择截图模式（可视区域或整页）</li>
                <li>点击"截取"按钮开始截图</li>
                <li>截图将自动下载到默认下载文件夹</li>
                <li>在此页面查看和管理历史截图</li>
              </ol>
            </div>

            <div class="about-section">
              <h3>技术信息</h3>
              <div class="tech-info">
                <p><strong>开发语言：</strong>TypeScript</p>
                <p><strong>构建工具：</strong>Vite</p>
                <p><strong>兼容性：</strong>Chrome 89+, Edge 89+</p>
                <p><strong>权限：</strong>activeTab, storage, downloads</p>
              </div>
            </div>

            <div class="about-section">
              <h3>反馈与支持</h3>
              <p>如果您在使用过程中遇到问题或有改进建议，欢迎反馈。</p>
              <div class="support-links">
                <a href="#" class="support-link">使用帮助</a>
                <a href="#" class="support-link">问题反馈</a>
                <a href="#" class="support-link">功能建议</a>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- 模态框 -->
    <div id="modal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modal-title">标题</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <img id="modal-image" class="modal-image" alt="Screenshot" />
          <div id="modal-info" class="modal-info">
            <!-- 截图详细信息 -->
          </div>
        </div>
        <div class="modal-footer">
          <button id="modal-download" class="btn btn-primary">下载</button>
          <button id="modal-delete" class="btn btn-danger">删除</button>
          <button class="btn btn-outline modal-close">关闭</button>
        </div>
      </div>
    </div>

    <script type="module" src="options.js"></script>
  </body>
</html>
